# 유스케이스 명세서: 장바구니 관리

## 1. 개요
- 유스케이스 ID: UC-005
- 유스케이스 이름: 장바구니 관리
- 작성자: [gangfunction]
- 작성일: 2024-07-02
- 최종 수정일: 2024-07-02

## 2. 액터
- 주 액터: 사용자
- 부 액터: 장바구니 시스템, 상품 시스템

## 3. 설명
사용자가 장바구니에 상품을 추가하고, 삭제하며, 장바구니 내용을 조회하는 과정을 설명합니다.

## 4. 선행조건
- 사용자가 시스템에 인증되어 있어야 함
- 상품 목록이 시스템에 등록되어 있어야 함

## 5. 후행조건
- 사용자의 장바구니 내용이 업데이트됨 (추가/삭제 시)
- 사용자에게 현재 장바구니 내용이 제공됨 (조회 시)

## 6. 기본 흐름
### 6.1 장바구니에 상품 추가
1. 사용자가 상품 목록에서 원하는 상품을 선택한다.
2. 사용자가 장바구니에 추가 요청을 한다.
3. 시스템이 선택된 상품을 사용자의 장바구니에 추가한다.
4. 시스템이 추가 완료 상태를 반환한다.

### 6.2 장바구니에서 상품 삭제
1. 사용자가 장바구니 상품 삭제를 요청한다.
2. 시스템이 해당 상품을 장바구니에서 제거한다.
3. 시스템이 삭제 완료 상태를 반환한다.

### 6.3 장바구니 조회
1. 사용자가 장바구니 조회를 요청한다.
2. 시스템이 사용자의 장바구니에 있는 모든 상품 목록을 반환한다.
3. 시스템이 장바구니 내 모든 상품의 총 금액을 계산하여 반환한다.

## 7. 대안 흐름
7a. 장바구니에 추가하려는 상품이 이미 존재하는 경우:
1. 시스템이 해당 상품의 수량을 증가시킨다.
2. 시스템이 수량 증가 상태를 반환한다.

7b. 장바구니가 비어있는 경우 (조회 시):
1. 시스템이 빈 장바구니 상태를 반환한다.

## 8. 예외 흐름
8a. 시스템 오류 발생 시:
1. 시스템이 오류 상태를 반환한다.
2. 유스케이스가 종료된다.

8b. 상품 재고가 부족한 경우 (추가 시):
1. 시스템이 재고 부족 상태를 반환한다.
2. 해당 상품은 장바구니에 추가되지 않는다.

## 9. 비즈니스 규칙
- BR-001: 한 장바구니에 최대 20개의 서로 다른 상품을 담을 수 있다.
- BR-002: 각 상품의 최대 주문 가능 수량은 10개이다.
- BR-003: 장바구니의 상품은 30일 동안 보관된다. 이후 자동으로 삭제된다.

## 10. 특수 요구사항
- 장바구니 조회 및 수정 작업의 응답 시간은 1초 이내여야 한다.
- 장바구니 정보는 사용자의 세션이 종료되어도 유지되어야 한다.

## 11. 관련 문서
- 시스템 요구사항 명세서
- ERD

