# 유스케이스 명세서: 선착순 쿠폰 발급

## 1. 개요

- 유스케이스 ID: UC-006
- 유스케이스 이름: 선착순 쿠폰 발급
- 작성자: [gangfunction]
- 작성일: 2024-07-03
- 최종 수정일: 2024-07-03

## 2. 액터

- 주 액터: 사용자
- 부 액터: 쿠폰 관리 시스템

## 3. 설명

사용자가 선착순으로 제한된 수량의 쿠폰을 발급받는 과정을 설명합니다.

## 4. 선행조건

- 사용자가 시스템에 로그인되어 있어야 함
- 쿠폰 발급 이벤트가 시작되어 있어야 함
- 발급 가능한 쿠폰 수량이 남아있어야 함

## 5. 후행조건

- 사용자에게 쿠폰이 발급됨
- 발급 가능한 쿠폰 수량이 감소됨

## 6. 기본 흐름

1. 사용자가 쿠폰 발급 요청을 한다.
2. 시스템이 현재 발급 가능한 쿠폰 수량을 확인한다.
3. 시스템이 사용자의 쿠폰 발급 이력을 확인한다.
4. 시스템이 쿠폰을 발급한다.
5. 시스템이 발급된 쿠폰 정보를 사용자에게 표시한다.
6. 시스템이 남은 쿠폰 수량을 갱신한다.

## 7. 대안 흐름

7a. 쿠폰 수량이 모두 소진된 경우:
1. 시스템이 쿠폰 소진 메시지를 표시한다.
2. 유스케이스가 종료된다.

7b. 사용자가 이미 쿠폰을 발급받은 경우:
1. 시스템이 중복 발급 불가 메시지를 표시한다.
2. 유스케이스가 종료된다.

## 8. 예외 흐름

8a. 시스템 오류 발생 시:
1. 시스템이 오류 메시지를 표시한다.
2. 시스템이 관리자에게 오류 로그를 전송한다.
3. 유스케이스가 종료된다.

## 9. 비즈니스 규칙

- BR-001: 한 사용자당 1개의 쿠폰만 발급 가능하다.
- BR-002: 쿠폰은 선착순으로 발급되며, 수량 초과 시 발급이 중단된다.
- BR-003: 쿠폰 발급은 지정된 이벤트 기간 동안만 가능하다.

## 10. 특수 요구사항

- 동시에 최소 5,000명의 사용자가 쿠폰 발급을 요청할 수 있어야 한다.
- 쿠폰 발급 요청에 대한 응답 시간은 3초 이내여야 한다.
- 데이터베이스의 트랜잭션 격리 수준을 적절히 설정하여 동시성 이슈를 해결해야 한다.
- 대량의 트래픽에 대비하여 시스템을 확장할 수 있는 구조로 설계해야 한다.

## 11. 관련 문서

- 시스템 요구사항 명세서
- ERD



